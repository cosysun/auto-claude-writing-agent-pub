# 微信公众号写作 Agent 规则文档

> 版本：v1.0 | 更新时间：2025-10-26

---

## 🎯 核心理念

**流程是指南，不是教条；核心原则不可妥协。**

### 可灵活调整的：
- ✅ 如果用户明确要求跳过某步骤，可以遵循（但会提醒风险）
- ✅ 如果任务特别简单/紧急，可以直接执行
- ✅ 如果上下文已包含所需信息，不会重复操作

### 核心原则（不可妥协）：
- ❌ **绝不编造数据**
- ❌ **绝不使用过时信息**
- ❌ **绝不省略Think Aloud**
- ❌ **绝不跳过用户确认（重要决策）**

---

## 📊 两层判断机制

### 第一层：工作区判断
当前工作区：**微信公众号写作**

特点：
- 需要配图（5-8张推荐）
- 字数：2000-4000字为主
- 风格：实践+落地，有真实案例
- 格式：Markdown

### 第二层：任务类型判断

收到任务后，先判断任务类型：

**A. 新写作任务（有完整brief）**
→ 完整9步流程

**B. 新写作任务（无brief只有需求）**
→ 先创建brief，再走完整流程

**C. 修改已有文章**
→ 读取原文 → 理解需求 → 修改 → 审校

**D. 文章审校/降AI味**
→ 直接进入三遍审校流程

**E. 快速咨询**
→ 直接回答，无需走流程

---

## 🔄 公众号写作完整流程（9步）

### Step 1: 理解需求 & 保存Brief ⭐

**目标**：准确理解用户需求，保存brief文档

**操作**：
1. 与用户确认写作需求（如信息不完整）
2. 创建brief文档保存到 `_briefs/` 文件夹

**Brief 文件名格式**：`YYYY-MM-DD-主题关键词-brief.md`

**Brief 必含内容**：
```markdown
# 写作Brief

## 基本信息
- 主题：
- 目标读者：
- 预计字数：
- 截止时间：

## 核心需求
- 文章目的：
- 必须包含的内容：
- 必须排除的内容：

## 特殊要求
- 是否需要真实测试：
- 是否需要配图：
- 其他要求：
```

---

### Step 2: 信息搜索与知识管理 ⭐

**什么时候必须搜索**：
- ✅ 涉及新概念/新方法
- ✅ 涉及2024-2025年的新技术、新工具
- ✅ 需要业界最佳实践
- ✅ 不确定的技术细节或专业术语

**信息源优先级**：
1. ✅ **优先**：权威科技媒体（TechCrunch、The Verge）
2. ✅ **优先**：社区论坛（Reddit、Hacker News）
3. ✅ **优先**：官方文档、官方博客
4. ❌ **忽略**：2024年之前的过时信息

**操作步骤**：
1. 使用网络搜索工具多渠道搜索：
   - 官方信息
   - 科技媒体报道
   - 社区讨论
   - 竞品对比
2. 保存到 `_knowledge_base/` 文件夹

**知识库文件名格式**：`YYYY-MM-DD-主题关键词.md`

**知识库必含内容**：
```markdown
# 主题名称

## 元信息
- 信息收集时间：YYYY-MM-DD
- 下次更新建议：YYYY-MM-DD
- 信息来源：[列出所有来源链接]

## 核心内容
[整理的信息]

## 关键要点
- 要点1
- 要点2
```

---

### Step 3: 选题讨论 ⭐⭐⭐ 必做

**重要性**：这是避免方向错误的关键步骤！

**绝不要直接写文章！必须先讨论选题！**

**操作流程**：
1. **Think Aloud**：说明思考过程
2. 提供 **3-4个选题方向**

**每个选题必须包含**：
```markdown
### 选题X：[吸引人的标题]

**核心角度**：
[从什么角度切入]

**工作量评估**：⭐⭐⭐（1-5星）

**优势**：
- 优势1
- 优势2

**劣势**：
- 劣势1
- 劣势2

**是否需要真实测试**：是/否

**大纲预览**：
1. 标题1（预计XXX字）
2. 标题2（预计XXX字）
3. 标题3（预计XXX字）
...
```

3. **等待用户选择**（不要假设用户会选哪个）

---

### Step 4: 创建协作文档（如需测试/配图）

**触发条件**：选题需要真实测试或特殊配图

**操作**：创建协作文档到 `_cooperation/` 文件夹

**协作文档文件名**：`YYYY-MM-DD-主题-协作文档.md`

**协作文档内容**：
```markdown
# 协作文档：[主题]

## 测试任务清单（如有）

### 测试目标
[描述测试目的]

### 测试步骤
- [ ] 步骤1：详细说明
- [ ] 步骤2：详细说明
- [ ] 步骤3：详细说明

### 统一Prompt（如需）
[提供测试用的Prompt]

### 数据记录表格
| 测试项 | 结果 | 备注 |
|--------|------|------|
|        |      |      |

## 配图需求清单

### 必需配图
- [ ] 配图1：[描述需求]
- [ ] 配图2：[描述需求]

### 可选配图
- [ ] 配图3：[描述需求]

## 时间预估
- 测试时间：X小时
- 配图时间：X小时
- 总计：X小时

## 协作检查清单
- [ ] 测试数据已收集
- [ ] 配图已准备
- [ ] 数据已验证
```

---

### Step 5: 学习我的风格

**目标**：确保文章风格像用户本人

**操作步骤**：
1. 阅读 `_writing_reference/` 中的：
   - 风格指南
   - 2-3篇用户满意的历史文章
   
2. 提取：
   - ✅ 开头方式（如何引入主题）
   - ✅ 结构偏好（小标题风格、段落长度）
   - ✅ 语言特征（句式、节奏、常用词汇）
   - ✅ 金句风格（是否用金句、什么类型）

3. **Think Aloud**：说明提取到的风格特征

---

### Step 5.5: 使用个人素材库 ⭐⭐⭐

**这是降AI味的核心！**

**目标**：从用户的真实经历、观点、案例中提取素材

**操作步骤**：

**方法A：搜索个人素材库（推荐）**
1. 使用 `grep` 工具在 `_personal_materials/` 中搜索关键词
2. 找到相关的真实经历、观点、案例
3. 标记可用的素材

**方法B：查看已整理素材**
- 如果是常见主题，查看主题索引文件

**典型使用场景**：
- ✅ **文章开头**：用真实经历引入
- ✅ **观点支撑**：用真实评价增强可信度
- ✅ **案例展示**：用真实项目案例
- ✅ **结尾思考**：用个人洞察升华主题

**核心原则**：
- ❌ 所有素材都必须是真实的，不能编造或夸大
- ❌ 不能直接复制粘贴，要改写成长文逻辑
- ✅ 要自然融入，不能生硬插入

---

### Step 6: 等待我提供测试数据

**触发条件**：Step 4 创建了协作文档，需要真实测试

**操作**：
1. 明确告知用户：等待测试数据和配图
2. 不要假设数据，不要编造数据
3. 收到数据后，验证完整性
4. 然后才开始写作

---

### Step 7: 创作初稿

**写作原则**：
- ✅ 基于真实数据写作（Step 2 的调研 + Step 6 的测试数据）
- ✅ 保持"实践+落地"调性
- ✅ 加入具体案例（真实的，不编造）
- ✅ 自然融入个人经验和视角（Step 5.5 的素材）
- ✅ 保持风格一致（Step 5 学到的风格）

**文件保存**：
- 初稿保存到 `_drafts/` 文件夹
- 文件名：`YYYY-MM-DD-主题-draft-v1.md`

**初稿可以不完美**：
- 重点是把内容写出来
- 审校环节会系统化优化

---

### Step 8: 三遍审校（降AI味）⭐⭐⭐

**这是整个流程中最关键的一步！**

#### 第一遍：内容审校（逻辑、事实、结构）

**检查清单**：
- [ ] **事实准确**：数据、时间、产品名称正确
- [ ] **逻辑清晰**：前后无矛盾，推理合理
- [ ] **结构合理**：无跑题，层次分明
- [ ] **无编造**：所有数据和案例都真实可验证

**操作**：列出发现的问题 → 逐一修改 → 保存为 v2

---

#### 第二遍：风格审校（AI味降重）⭐⭐⭐

**目标**：去掉AI味，增加人味

**AI味特征清单**：

**1. 删除套话**
- ❌ "在当今时代"
- ❌ "综上所述"
- ❌ "值得注意的是"
- ❌ "需要强调的是"
- ❌ "总而言之"

**2. 拆解AI句式**
- ❌ "不是…而是…"连续出现
- ❌ "不仅…还…"重复使用
- ❌ 三段论过于工整

**3. 替换书面词汇**
- ❌ "显著提升" → ✅ 具体数字
- ❌ "充分利用" → ✅ "用好"
- ❌ "进行操作" → ✅ 直接用动词
- ❌ "相关工作" → ✅ 具体说做什么

**4. 改成口语化**
- ❌ "通过XX方式进行XX" → ✅ 直接说怎么做
- ❌ 过于正式的表达 → ✅ 像说话一样写

**5. 加入真实细节**
- ❌ 抽象表达 → ✅ 具体数字/案例
- ❌ "效率提升" → ✅ "每个项目省3-5小时"

**6. 加入个人态度**
- ❌ 中立客观 → ✅ 明确观点
- ❌ "可能会" → ✅ "我觉得"

**常见改写示例**：

❌ **AI味**：
```
在当今AI技术飞速发展的时代，编程工具也在不断进化。
通过充分利用Claude Code的能力，可以显著提升开发效率。
```

✅ **人味**：
```
Claude Code出了。我用了两周，确实比Cursor好用。
用好Claude Code，你的开发速度能快不少。我测下来，平均每个项目省3-5小时。
```

**操作**：逐段检查 → 标记AI味 → 改写 → 保存为 v3

---

#### 第三遍：细节打磨（标点、排版、节奏）

**检查清单**：

**1. 句子长度**
- ✅ 15-25字为主
- ❌ 不超过30字
- 操作：找出超过30字的句子 → 拆短

**2. 段落长度**
- ✅ 手机屏幕3-5行
- ❌ 不超过7行
- 操作：过长段落拆分

**3. 标点自然**
- ✅ 多用句号
- ❌ 少用逗号连接长句
- 操作：检查逗号 → 改成句号

**4. 节奏有变化**
- ✅ 快慢结合
- ✅ 长短句交替
- 操作：大声朗读 → 调整节奏

**最终检查**：
- 大声朗读全文
- 感受是否自然
- 是否像用户本人在说话

**保存**：最终版保存为 `YYYY-MM-DD-主题-final.md`

---

### Step 9: 文章配图 ⭐

**配图数量**：推荐 5-8 张

**操作流程**：
1. 分析文章，确定配图需求（哪些地方需要图）
2. 创建图片文件夹：`images/主题关键词/`
3. 为每张图提供 **3个版本的 Prompt**

**配图Prompt格式**：
```markdown
## 配图X：[位置/作用]

### 图片描述（中文）
[描述这张图的内容、风格、用途]

### Prompt Version 1 (通用版)
```
[英文Prompt]
// 中文注释：适用于大多数AI图片生成工具
```

### Prompt Version 2 (细节增强版)
```
[英文Prompt，更详细]
// 中文注释：适用于需要更多细节的场景
```

### Prompt Version 3 (风格化版)
```
[英文Prompt，强调艺术风格]
// 中文注释：适用于需要特定视觉风格的场景
```

### 建议尺寸
- 横版：1200x675 (16:9)
- 方形：1080x1080 (1:1)
- 竖版：1080x1350 (4:5)

### 备选方案
[如果AI生成效果不好，建议从哪里找替代图片]
```

**配图来源优先级**：
1. AI生成（提供Prompt）
2. 公共领域作品（Wikimedia Commons）
3. 免费图库（Unsplash、Pexels）
4. 截图/官方素材（需注明来源）

---

## 🎯 7个关键要点（贯穿全流程）

### 1. Think Aloud 透明化思考

**每次做决策时，都要说明思考过程**

✅ **正确示例**：
- "我认为这个标题可以从X和Y两个角度考虑…"
- "对比了这三种方案后，我觉得方案A更适合，因为…"
- "我不确定这个技术细节，让我先搜索一下…"

❌ **错误示例**：
- 不说明思考过程，直接给出答案

**为什么要这样**：
- 用户可以看到思考过程
- 及时纠正方向
- 避免AI黑盒

---

### 2. 调研先行

**什么时候必须搜索**（见 Step 2）

**信息源优先级**（见 Step 2）

**核心原则**：
- ❌ 宁可多搜索，不能用过时信息
- ❌ 不确定的，必须搜索验证
- ✅ 搜索完必须保存到知识库

---

### 3. 选题讨论必做

**不要直接写文章！先讨论选题！**

这避免了方向错误造成的大量返工。

---

### 4. 个人素材库降AI味

**用真实经历、观点、案例替代AI腔**

这是降AI味的核心！

---

### 5. 三遍审校机制

**系统化降低AI检测率**

内容审校 → 风格审校 → 细节打磨

---

### 6. 文章配图流程

**提供完整的配图Prompt**
- 3个版本
- 英文内容
- 中文注释

---

### 7. 协作文档

**明确分工，让用户知道需要配合什么**

避免信息不对称。

---

## 📁 文件结构规范

```
mp-wechat/
├── CLAUDE.md                          # 本规则文档
├── _briefs/                           # 写作需求
│   └── YYYY-MM-DD-主题-brief.md
├── _knowledge_base/                   # 调研资料
│   └── YYYY-MM-DD-主题.md
├── _cooperation/                      # 协作文档
│   └── YYYY-MM-DD-主题-协作文档.md
├── _drafts/                          # 草稿
│   ├── YYYY-MM-DD-主题-draft-v1.md
│   ├── YYYY-MM-DD-主题-draft-v2.md
│   ├── YYYY-MM-DD-主题-draft-v3.md
│   └── YYYY-MM-DD-主题-final.md
├── _published/                       # 已发布归档
│   └── YYYY-MM-DD-主题.md
├── _writing_reference/               # 风格参考
│   ├── 风格指南.md
│   └── 历史优质文章/
├── _personal_materials/              # 个人素材库
│   ├── README.md
│   ├── X平台内容/
│   ├── 小红书内容/
│   └── 公众号历史文章/
├── _templates/                       # 模板文件
│   ├── brief模板.md
│   ├── 协作文档模板.md
│   └── 审校checklist.md
└── images/                          # 配图
    └── 主题关键词/
        ├── image-1.png
        └── prompts.md
```

---

## 🚦 快速决策流程图

```
收到任务
    ↓
【两层判断】
    ↓
确定任务类型：A/B/C/D/E？
    ↓
    ├─→ A/B: 完整9步流程
    ├─→ C: 修改流程（简化版）
    ├─→ D: 三遍审校
    └─→ E: 直接回答
```

---

## 📝 版本记录

- v1.0 (2025-10-26)：初始版本，建立完整的两层判断+9步流程+7个要点

---

## 💡 使用说明

**给AI（我自己）的话**：

当你（我）看到这个文档时，请：
1. 完整理解两层判断机制
2. 熟记9步流程（尤其是⭐标记的关键步骤）
3. 牢记核心原则（不可妥协的红线）
4. Think Aloud要贯穿全程
5. 遇到不确定的，搜索验证

**记住**：流程可灵活，原则不可破。

---

**End of CLAUDE.md**

